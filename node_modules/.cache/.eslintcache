[{"/Users/samuelhsu/Documents/GitHub/spootify/src/index.js":"1","/Users/samuelhsu/Documents/GitHub/spootify/src/App.js":"2","/Users/samuelhsu/Documents/GitHub/spootify/src/reportWebVitals.js":"3","/Users/samuelhsu/Documents/GitHub/spootify/src/components/InitialLook.js":"4","/Users/samuelhsu/Documents/GitHub/spootify/src/components/NavBar.js":"5","/Users/samuelhsu/Documents/GitHub/spootify/src/components/Dashboard.js":"6"},{"size":1183,"mtime":1630366864575,"results":"7","hashOfConfig":"8"},{"size":811,"mtime":1630315119370,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1630011959375,"results":"10","hashOfConfig":"8"},{"size":992,"mtime":1630368519655,"results":"11","hashOfConfig":"8"},{"size":178,"mtime":1630011959374,"results":"12","hashOfConfig":"8"},{"size":3911,"mtime":1630359820450,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"teqsvt",{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"19"},"/Users/samuelhsu/Documents/GitHub/spootify/src/index.js",[],"/Users/samuelhsu/Documents/GitHub/spootify/src/App.js",["29"],"// After commit, \"$ git push heroku main\" to deploy\nimport React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport logo from './logo.svg';\nimport './App.css';\nimport NavBar from \"./components/NavBar\";\nimport InitialLook from \"./components/InitialLook\";\nimport Dashboard from \"./components/Dashboard\";\n\nfunction App() {\n  return (\n    <div>\n      <NavBar />\n      <BrowserRouter>\n        <Switch>\n        <Route exact path=\"/\">\n            <Redirect to=\"/initial\" component={InitialLook}/>\n          </Route>\n          <Route path=\"/initial\">  \n              < InitialLook />\n          </Route>\n          <Route path=\"/dashboard\" component={Dashboard}>             \n          </Route>\n        </Switch>\n      </BrowserRouter> \n    </div>\n  );\n}\n\nexport default App;\n",["30","31"],"/Users/samuelhsu/Documents/GitHub/spootify/src/reportWebVitals.js",[],"/Users/samuelhsu/Documents/GitHub/spootify/src/components/InitialLook.js",["32"],"/Users/samuelhsu/Documents/GitHub/spootify/src/components/NavBar.js",[],"/Users/samuelhsu/Documents/GitHub/spootify/src/components/Dashboard.js",["33","34"],"import React, { useEffect, useState } from 'react';\nimport \"./Dashboard.css\";\n\nfunction Dashboard() {\n    var [token, setToken] = useState(\"\");\n    var [data, setData] = useState([]);\n    var [auth, setAuth] = useState(\"\");\n    \n    var count = 0;\n\n    useEffect(() => {\n        console.log(\"The URL of this page is: \" + window.location.href);\n        var url = window.location.href;\n        var accessToken = window.location.href.split('code=').pop();  \n\n        fetch(\"https://spootifyit-backend.herokuapp.com/auth\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Accept: \"application/json\"\n            },\n            body: JSON.stringify({\n            authKey: accessToken,\n            uri: url,\n            })\n        })\n        .then(res => res.json()) \n        .then(res => {\n            //console.log(res);\n            //console.log(res.access_token);\n            setToken(res.access_token);\n        })\n    }, []);\n\n    function refresh() {\n        fetch(\"https://spootifyit-backend.herokuapp.com/login\", {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n        }\n        })\n        .then(data => data.json()) \n        .then(data => {\n            //console.log(data);\n            setAuth(data);\n            window.location.href = data;\n        })\n    } \n    async function topTracksL() {\n        try {\n            await fetch (\"https://api.spotify.com/v1/me/top/tracks?time_range=long_term\", {\n            method: \"GET\",\n            headers: {\n                'Authorization': 'Bearer ' + token,\n                \"Content-Type\": \"application/json\",\n                Accept: \"application/json\"\n            }\n        })\n        .then (res => res.json())\n        .then (res => {\n            //console.log(res);\n            setData(res.items);\n        })\n          }\n          catch(err) {\n            console.log(\"Please refresh\");\n          }\n\n    }\n\n    async function topTracksM() {\n        await fetch (\"https://api.spotify.com/v1/me/top/tracks?time_range=medium_term\", {\n            method: \"GET\",\n            headers: {\n                'Authorization': 'Bearer ' + token,\n                \"Content-Type\": \"application/json\",\n                Accept: \"application/json\"\n            }\n        })\n        .then (res => res.json())\n        .then (res => {\n            //console.log(res);\n            setData(res.items);\n        })\n    }\n\n    async function topTracksS() {\n        await fetch (\"https://api.spotify.com/v1/me/top/tracks?time_range=short_term\", {\n            method: \"GET\",\n            headers: {\n                'Authorization': 'Bearer ' + token,\n                \"Content-Type\": \"application/json\",\n                Accept: \"application/json\"\n            }\n        })\n        .then (res => res.json())\n        .then (res => {\n            //console.log(res);\n            setData(res.items);\n        })\n    }\n\n    return (\n      <div className=\"Dashboard\">\n          <div onClick={refresh} className=\"spootify\">Spootify</div>\n                <div className=\"container\">\n                    <div className=\"btns\" onClick={topTracksS}>last month</div>\n                    <div className=\"btns\" onClick={topTracksM}>last 6 months</div>\n                    <div className=\"btns\" onClick={topTracksL}>all time</div>\n                </div>\n                \n              <ul>\n                 { data ? data.map((track, i)=> (\n                    <li key={i}>\n                        <div className=\"tracks\">\n                            {i+1}. <track-name>{track?.name}</track-name> - {track?.artists[0].name} <br></br>\n                        </div>\n                    </li> \n                )) : \"Unable to load data. Please press Spootify to continue.\"}\n              </ul>\n              <br></br>\n              <br></br>\n      </div>\n  )\n}\nexport default Dashboard;",{"ruleId":"35","severity":1,"message":"36","line":4,"column":8,"nodeType":"37","messageId":"38","endLine":4,"endColumn":12},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"35","severity":1,"message":"43","line":7,"column":8,"nodeType":"37","messageId":"38","endLine":7,"endColumn":12},{"ruleId":"35","severity":1,"message":"43","line":7,"column":10,"nodeType":"37","messageId":"38","endLine":7,"endColumn":14},{"ruleId":"35","severity":1,"message":"44","line":9,"column":9,"nodeType":"37","messageId":"38","endLine":9,"endColumn":14},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["45"],"no-negated-in-lhs",["46"],"'auth' is assigned a value but never used.","'count' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]